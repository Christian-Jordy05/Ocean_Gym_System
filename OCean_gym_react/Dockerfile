# Usa la imagen base de Node.js
FROM node:22.9.0

# Establece el directorio de trabajo
WORKDIR /app

# Copia solo los archivos de package.json y package-lock.json para aprovechar la cache de Docker
COPY package*.json ./

# Instala las dependencias
RUN npm install

# Copia el resto de los archivos
COPY . .

# Construye la aplicaci칩n
RUN npm run build

# Expone el puerto (Render maneja el puerto autom치ticamente, pero EXPOSE lo documenta)
EXPOSE 5173

# Ejecuta la aplicaci칩n en modo preview para producci칩n
CMD ["npm", "run", "preview"]
